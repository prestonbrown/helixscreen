<!--
  Copyright (C) 2025 356C LLC
  Author: Preston Brown <pbrown@brown-house.net>

  This file is part of HelixScreen.

  HelixScreen is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  HelixScreen is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with HelixScreen. If not, see <https://www.gnu.org/licenses/>.
-->
<component>
    <!-- First-Run Wizard: Connection Screen -->
    <!-- User enters Moonraker IP/hostname and port, tests connection -->
    <view extends="lv_obj"
      	  width="100%"
		  height="100%"
		  scrollable="false"
          style_bg_opa="0"
          style_border_width="0"
          style_pad_all="0"
          flex_flow="column"
          style_flex_main_place="start"
          style_flex_cross_place="start"
          name="wizard_connection_root">

        <!-- Top Section: Instructions and Input Fields -->
        <lv_obj width="100%"
                flex_grow="1"
				scrollable="false"
                style_bg_opa="0"
                style_radius="0"
                style_border_width="0"
                style_pad_all="0"
                style_pad_gap="#gap_normal"
                flex_flow="column"
                style_flex_main_place="start"
                style_flex_cross_place="start">

            <!-- Help text -->
            <lv_label text="Enter your printer's network address"
                      width="100%"
                      style_text_font="montserrat_16"
                      style_margin_bottom="4"/>

            <lv_label text="Usually looks like 192.168.1.100 or printer.local"
                      width="100%"
                      style_text_font="montserrat_12"
                      style_margin_bottom="12"/>

            <!-- Card container for inputs and button -->
            <lv_obj width="100%"
                    height="100%"
                    style_min_height="140"
                    style_bg_opa="255"
                    style_border_width="1"
                                       style_border_opa="100"
                    style_radius="12"
                    style_pad_all="#padding_normal"
                    style_pad_gap="#gap_normal"
                    flex_flow="column"
                    style_flex_main_place="start"
                    style_flex_cross_place="start">

                <!-- Horizontal input row: Network Address (left) and Port (right) -->
                <lv_obj width="100%"
                    style_bg_opa="0"
                    style_border_width="0"
                    style_pad_all="0"
                    style_pad_gap="#gap_small"
                    flex_flow="row"
                    style_flex_main_place="start"
                    style_flex_cross_place="start">

                    <!-- Left column: Network Address (flex_grow=2 gives ~67% width) -->
                    <lv_obj flex_grow="2"
                            style_bg_opa="0"
                            style_border_width="0"
                            style_pad_all="0"
                            style_pad_gap="6"
                            flex_flow="column"
                            style_flex_main_place="start"
                            style_flex_cross_place="start">
                        <lv_label text="Network Address"
                                width="100%"
                                style_text_font="montserrat_14"
                                          style_pad_bottom="4"/>
                        <lv_textarea name="ip_input"
                                    bind_text="connection_ip"
                                    placeholder_text="192.168.1.100"
                                    one_line="true"
                                    width="100%"
                                    style_min_height="#wizard_input_height"
                                                                                     style_text_font="montserrat_16"
                                    style_radius="#card_radius"
                                    style_pad_all="#button_padding"
                                    style_border_width="#input_border_width"
                                                                       style_border_opa="50%"
                                   />
                    </lv_obj>
                    <!-- Right column: Port (flex_grow=1 gives ~33% width) -->
                    <lv_obj flex_grow="1"
                            style_bg_opa="0"
                            style_border_width="0"
                            style_pad_all="0"
                            style_pad_gap="6"
                            flex_flow="column"
                            style_flex_main_place="start"
                            style_flex_cross_place="start">
                        <lv_label text="Port"
                                width="100%"
                                style_text_font="montserrat_14"
                                          style_pad_bottom="4"/>
                        <lv_textarea name="port_input"
                                    bind_text="connection_port"
                                    placeholder_text="7125"
                                    one_line="true"
                                    width="100%"
                                    style_min_height="#wizard_input_height"
                                                                                     style_text_font="montserrat_16"
                                    style_radius="#card_radius"
                                    style_pad_all="#button_padding"
                                    style_border_width="#input_border_width"
                                                                       style_border_opa="50%"
                                   />
                    </lv_obj>
                </lv_obj>

                <!-- Test connection button and status row -->
                <lv_obj width="100%"
                        style_bg_opa="0"
                        style_border_width="0"
                        style_pad_all="0"
                        style_pad_top="#gap_small"
                        style_pad_gap="#gap_normal"
                        flex_flow="row"
                        style_flex_main_place="start"
                        style_flex_cross_place="center">

                    <!-- Test Connection Button -->
                    <lv_button name="btn_test_connection"
                            width="200"
                            style_min_height="#button_height_small"
                                                      >
                        <lv_label text="Test Connection"
                                style_text_font="montserrat_16"
                                align="center"/>
                    </lv_button>

                    <!-- Connection Status Label -->
                    <lv_label name="connection_status"
                            bind_text="connection_status"
                            flex_grow="1"
                            style_text_font="montserrat_14"
                                                       style_text_align="left"
                            style_pad_left="#gap_small"/>
                </lv_obj>
            </lv_obj>
        </lv_obj>
    </view>
</component>