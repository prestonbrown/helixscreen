diff --git a/src/layouts/flex/lv_flex.c b/src/layouts/flex/lv_flex.c
index 11deb3d3e..5a807d909 100644
--- a/src/layouts/flex/lv_flex.c
+++ b/src/layouts/flex/lv_flex.c
@@ -74,6 +74,7 @@ static int32_t lv_obj_get_height_with_margin(const lv_obj_t * obj);
 /**********************
  *  STATIC VARIABLES
  **********************/
+static bool propagate_size_content_enabled = LV_FLEX_PROPAGATE_SIZE_CONTENT;
 
 /**********************
  *      MACROS
@@ -120,6 +121,16 @@ void lv_obj_set_flex_grow(lv_obj_t * obj, uint8_t grow)
     if(parent) lv_obj_mark_layout_as_dirty(parent);
 }
 
+void lv_flex_set_propagate_size_content(bool enable)
+{
+    propagate_size_content_enabled = enable;
+}
+
+bool lv_flex_get_propagate_size_content(void)
+{
+    return propagate_size_content_enabled;
+}
+
 /**********************
  *   STATIC FUNCTIONS
  **********************/
@@ -221,6 +232,22 @@ static void flex_update(lv_obj_t * cont, void * user_data)
 
     if(w_set == LV_SIZE_CONTENT || h_set == LV_SIZE_CONTENT) {
         lv_obj_refr_size(cont);
+
+        if(propagate_size_content_enabled) {
+            /*Propagate SIZE_CONTENT refresh up to ancestors.
+             *When a flex container has SIZE_CONTENT and positions its children,
+             *any ancestor that also has SIZE_CONTENT needs its size recalculated
+             *since child coordinates have now changed.*/
+            lv_obj_t * parent = lv_obj_get_parent(cont);
+            while(parent != NULL) {
+                int32_t pw = lv_obj_get_style_width(parent, LV_PART_MAIN);
+                int32_t ph = lv_obj_get_style_height(parent, LV_PART_MAIN);
+                if(pw == LV_SIZE_CONTENT || ph == LV_SIZE_CONTENT) {
+                    lv_obj_refr_size(parent);
+                }
+                parent = lv_obj_get_parent(parent);
+            }
+        }
     }
 
     lv_obj_send_event(cont, LV_EVENT_LAYOUT_CHANGED, NULL);
diff --git a/src/layouts/flex/lv_flex.h b/src/layouts/flex/lv_flex.h
index 9724f9b1c..f7759c463 100644
--- a/src/layouts/flex/lv_flex.h
+++ b/src/layouts/flex/lv_flex.h
@@ -89,6 +89,22 @@ void lv_obj_set_flex_align(lv_obj_t * obj, lv_flex_align_t main_place, lv_flex_a
  */
 void lv_obj_set_flex_grow(lv_obj_t * obj, uint8_t grow);
 
+/**
+ * Enable or disable SIZE_CONTENT propagation to ancestors.
+ * When enabled, flex containers with SIZE_CONTENT will propagate size
+ * refreshes up to any ancestor that also uses SIZE_CONTENT. This fixes
+ * layouts where nested SIZE_CONTENT containers would otherwise collapse to 0.
+ * Default value is set by LV_FLEX_PROPAGATE_SIZE_CONTENT in lv_conf.h.
+ * @param enable true to enable propagation, false to disable
+ */
+void lv_flex_set_propagate_size_content(bool enable);
+
+/**
+ * Get whether SIZE_CONTENT propagation to ancestors is enabled.
+ * @return true if enabled, false if disabled
+ */
+bool lv_flex_get_propagate_size_content(void);
+
 /**********************
  *      MACROS
  **********************/
